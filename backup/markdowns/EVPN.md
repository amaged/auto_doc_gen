# EVPN
## cat /etc/frr/frr.conf
```

frr version 3.2+cl3u4
frr defaults datacenter
hostname oob-mgmt-server
username cumulus nopassword
!
service integrated-vtysh-config
!
log syslog informational
!
interface eth2
 ipv6 nd ra-interval 10
 no ipv6 nd suppress-ra
!
interface eth3
 ipv6 nd ra-interval 10
 no ipv6 nd suppress-ra
!
router bgp 65041
 bgp router-id 10.0.0.41
 coalesce-time 1000
 bgp bestpath as-path multipath-relax
 neighbor eth2 interface remote-as external
 neighbor eth3 interface remote-as external
 !
 address-family ipv4 unicast
  network 10.0.0.41/32
  network 10.0.2.0/24
 exit-address-family
 !
 address-family ipv6 unicast
  network fd00::41/128
  neighbor eth2 activate
  neighbor eth3 activate
 exit-address-family
!
line vty
!

```
```

Usage: cat [OPTION]... [FILE]...
Concatenate FILE(s), or standard input, to standard output.

  -A, --show-all           equivalent to -vET
  -b, --number-nonblank    number nonempty output lines, overrides -n
  -e                       equivalent to -vE
  -E, --show-ends          display $ at end of each line
  -n, --number             number all output lines
  -s, --squeeze-blank      suppress repeated empty output lines
  -t                       equivalent to -vT
  -T, --show-tabs          display TAB characters as ^I
  -u                       (ignored)
  -v, --show-nonprinting   use ^ and M- notation, except for LFD and TAB
      --help     display this help and exit
      --version  output version information and exit

With no FILE, or when FILE is -, read standard input.

Examples:
  cat f - g  Output f's contents, then standard input, then g's contents.
  cat        Copy standard input to standard output.

GNU coreutils online help: <http://www.gnu.org/software/coreutils/>
Full documentation at: <http://www.gnu.org/software/coreutils/cat>
or available locally via: info '(coreutils) cat invocation'

frr version 3.2+cl3u4
frr defaults datacenter
hostname oob-mgmt-server
username cumulus nopassword
!
service integrated-vtysh-config
!
log syslog informational
!
interface eth2
 ipv6 nd ra-interval 10
 no ipv6 nd suppress-ra
!
interface eth3
 ipv6 nd ra-interval 10
 no ipv6 nd suppress-ra
!
router bgp 65041
 bgp router-id 10.0.0.41
 coalesce-time 1000
 bgp bestpath as-path multipath-relax
 neighbor eth2 interface remote-as external
 neighbor eth3 interface remote-as external
 !
 address-family ipv4 unicast
  network 10.0.0.41/32
  network 10.0.2.0/24
 exit-address-family
 !
 address-family ipv6 unicast
  network fd00::41/128
  neighbor eth2 activate
  neighbor eth3 activate
 exit-address-family
!
line vty
!

```
## cat /etc/network/interfaces
```

auto lo
iface lo inet loopback
    address 10.0.0.41/32
    address fd00::41/128

auto eth0
iface eth0 inet static
    address 10.255.0.1
    netmask 255.255.0.0
    gateway 10.255.0.3
auto eth1
iface eth1 inet static
    address 192.168.0.254
    netmask 255.255.0.0

auto eth2
iface eth2

auto eth3
iface eth3

```
```

Usage: cat [OPTION]... [FILE]...
Concatenate FILE(s), or standard input, to standard output.

  -A, --show-all           equivalent to -vET
  -b, --number-nonblank    number nonempty output lines, overrides -n
  -e                       equivalent to -vE
  -E, --show-ends          display $ at end of each line
  -n, --number             number all output lines
  -s, --squeeze-blank      suppress repeated empty output lines
  -t                       equivalent to -vT
  -T, --show-tabs          display TAB characters as ^I
  -u                       (ignored)
  -v, --show-nonprinting   use ^ and M- notation, except for LFD and TAB
      --help     display this help and exit
      --version  output version information and exit

With no FILE, or when FILE is -, read standard input.

Examples:
  cat f - g  Output f's contents, then standard input, then g's contents.
  cat        Copy standard input to standard output.

GNU coreutils online help: <http://www.gnu.org/software/coreutils/>
Full documentation at: <http://www.gnu.org/software/coreutils/cat>
or available locally via: info '(coreutils) cat invocation'

auto lo
iface lo inet loopback
    address 10.0.0.41/32
    address fd00::41/128

auto eth0
iface eth0 inet static
    address 10.255.0.1
    netmask 255.255.0.0
    gateway 10.255.0.3
auto eth1
iface eth1 inet static
    address 192.168.0.254
    netmask 255.255.0.0

auto eth2
iface eth2

auto eth3
iface eth3

```
## cat /etc/sysctl.d/neigh.conf
```

# Cumulus Linux default values, do not edit.
# Automatically generated by /usr/lib/cumulus/generate-sysctl.
#
# Place user-specified values in /etc/sysctl.conf

# neigh
net.ipv4.neigh.default.gc_thresh2=35840
net.ipv4.neigh.default.gc_thresh3=40960
net.ipv6.neigh.default.gc_thresh2=17920
net.ipv6.neigh.default.gc_thresh3=20480
net.ipv4.neigh.default.base_reachable_time_ms=1080000
net.ipv6.neigh.default.base_reachable_time_ms=1080000

```
```

Usage: cat [OPTION]... [FILE]...
Concatenate FILE(s), or standard input, to standard output.

  -A, --show-all           equivalent to -vET
  -b, --number-nonblank    number nonempty output lines, overrides -n
  -e                       equivalent to -vE
  -E, --show-ends          display $ at end of each line
  -n, --number             number all output lines
  -s, --squeeze-blank      suppress repeated empty output lines
  -t                       equivalent to -vT
  -T, --show-tabs          display TAB characters as ^I
  -u                       (ignored)
  -v, --show-nonprinting   use ^ and M- notation, except for LFD and TAB
      --help     display this help and exit
      --version  output version information and exit

With no FILE, or when FILE is -, read standard input.

Examples:
  cat f - g  Output f's contents, then standard input, then g's contents.
  cat        Copy standard input to standard output.

GNU coreutils online help: <http://www.gnu.org/software/coreutils/>
Full documentation at: <http://www.gnu.org/software/coreutils/cat>
or available locally via: info '(coreutils) cat invocation'

# Cumulus Linux default values, do not edit.
# Automatically generated by /usr/lib/cumulus/generate-sysctl.
#
# Place user-specified values in /etc/sysctl.conf

# neigh
net.ipv4.neigh.default.gc_thresh2=35840
net.ipv4.neigh.default.gc_thresh3=40960
net.ipv6.neigh.default.gc_thresh2=17920
net.ipv6.neigh.default.gc_thresh3=20480
net.ipv4.neigh.default.base_reachable_time_ms=1080000
net.ipv6.neigh.default.base_reachable_time_ms=1080000

```
## net show vxlan
```

ERROR: Command not found

net show vxlan
         ^ Invalid value here
Use 'net help KEYWORD(s)' to list all options that use KEYWORD(s)

```
```

ERROR: There are no commands with keyword(s) 'show', 'vxlan'

```
## ip [-d] link show
```

Object "[-d]" is unknown, try "ip help".

```
```

Object "[-d]" is unknown, try "ip help".

```
## bridge link show
```


```
```

nohup: failed to run command ‘bridge’: No such file or directory

```
## bridge vlan show
```

port	vlan ids
docker0	None

```
```

nohup: failed to run command ‘bridge’: No such file or directory

```
## bridge [-s] fdb show
```

Object "[-s]" is unknown, try "bridge help".

```
```

nohup: failed to run command ‘bridge’: No such file or directory

```
## ip neighbor show
```

192.168.0.21 dev eth1 lladdr 44:38:39:00:06:00 REACHABLE
192.168.0.34 dev eth1 lladdr 44:38:39:00:0b:00 REACHABLE
192.168.0.11 dev eth1 lladdr 44:38:39:00:02:00 REACHABLE
192.168.0.33 dev eth1 lladdr 44:38:39:00:0a:00 REACHABLE
192.168.0.14 dev eth1 lladdr 44:38:39:00:05:00 REACHABLE
192.168.0.31 dev eth1 lladdr 44:38:39:00:08:00 REACHABLE
169.254.0.1 dev eth3 lladdr 44:38:39:00:03:07 PERMANENT
192.168.0.32 dev eth1 lladdr 44:38:39:00:09:00 REACHABLE
192.168.0.13 dev eth1 lladdr 44:38:39:00:04:00 REACHABLE
192.168.0.12 dev eth1 lladdr 44:38:39:00:03:00 REACHABLE
169.254.0.1 dev eth2 lladdr 44:38:39:00:02:07 PERMANENT
192.168.0.22 dev eth1 lladdr 44:38:39:00:07:00 REACHABLE
10.255.0.3 dev eth0 lladdr 2c:c2:60:ff:00:4d REACHABLE
fe80::4638:39ff:fe00:307 dev eth3 lladdr 44:38:39:00:03:07 router REACHABLE
fe80::4638:39ff:fe00:207 dev eth2 lladdr 44:38:39:00:02:07 router REACHABLE

```
```

Error: an inet prefix is expected rather than "--help".

192.168.0.21 dev eth1 lladdr 44:38:39:00:06:00 REACHABLE
192.168.0.34 dev eth1 lladdr 44:38:39:00:0b:00 REACHABLE
192.168.0.11 dev eth1 lladdr 44:38:39:00:02:00 REACHABLE
192.168.0.33 dev eth1 lladdr 44:38:39:00:0a:00 REACHABLE
192.168.0.14 dev eth1 lladdr 44:38:39:00:05:00 REACHABLE
192.168.0.31 dev eth1 lladdr 44:38:39:00:08:00 REACHABLE
169.254.0.1 dev eth3 lladdr 44:38:39:00:03:07 PERMANENT
192.168.0.32 dev eth1 lladdr 44:38:39:00:09:00 REACHABLE
192.168.0.13 dev eth1 lladdr 44:38:39:00:04:00 REACHABLE
192.168.0.12 dev eth1 lladdr 44:38:39:00:03:00 REACHABLE
169.254.0.1 dev eth2 lladdr 44:38:39:00:02:07 PERMANENT
192.168.0.22 dev eth1 lladdr 44:38:39:00:07:00 REACHABLE
10.255.0.3 dev eth0 lladdr 2c:c2:60:ff:00:4d REACHABLE
fe80::4638:39ff:fe00:307 dev eth3 lladdr 44:38:39:00:03:07 router REACHABLE
fe80::4638:39ff:fe00:207 dev eth2 lladdr 44:38:39:00:02:07 router REACHABLE

```
## ip route show [table <vrf-name>]
```

run.commands: 2190: run.commands: cannot open vrf-name: No such file

```
```

run.commands: 2194: run.commands: cannot open vrf-name: No such file

run.commands: 2190: run.commands: cannot open vrf-name: No such file

```
## net show bgp summary
```


show bgp ipv4 unicast summary
=============================
BGP router identifier 10.0.0.41, local AS number 65041 vrf-id 0
BGP table version 22
RIB entries 31, using 4712 bytes of memory
Peers 2, using 39 KiB of memory

Neighbor        V         AS MsgRcvd MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd
leaf01(eth2)    4      65011    2038    2039        0    0    0 01:40:22           14
leaf02(eth3)    4      65012    2040    2041        0    0    0 01:40:24           14

Total number of neighbors 2


show bgp ipv6 unicast summary
=============================
BGP router identifier 10.0.0.41, local AS number 65041 vrf-id 0
BGP table version 10
RIB entries 13, using 1976 bytes of memory
Peers 2, using 39 KiB of memory

Neighbor        V         AS MsgRcvd MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd
leaf01(eth2)    4      65011    2038    2039        0    0    0 01:40:22            6
leaf02(eth3)    4      65012    2040    2041        0    0    0 01:40:24            6

Total number of neighbors 2


show bgp l2vpn evpn summary
===========================

```
```

The following commands contain keyword(s) 'show', 'bgp', 'summary'

    net show bgp [l2vpn] evpn summary [json]
    net show bgp [summary] [json]
    net show bgp ipv4 (unicast|labeled-unicast) [<ipv4>|<ipv4/prefixlen>|summary] [json]
    net show bgp ipv6 (unicast|labeled-unicast) [<ipv6>|<ipv6/prefixlen>|summary] [json]
    net show bgp vrf <text> [summary] [json]
    net show bgp vrf <text> ipv4 unicast [<ipv4>|<ipv4/prefixlen>|summary] [json]
    net show bgp vrf <text> ipv6 unicast [<ipv6>|<ipv6/prefixlen>|summary] [json]


```
## net show route ipv4
```

ERROR: Command not found

net show route ipv4
               ^ Invalid value here
Did you mean one of the following?

    net show route-map [94m[<route-map>][0m
        This command is looking for an existing route-map

```
```

The following commands contain keyword(s) 'show', 'route', 'ipv4'

    net show bgp (ipv4|ipv6) (unicast|labeled-unicast) neighbor <bgppeer> (advertised-routes|received-routes|routes) [json]
    net show bgp vrf <text> (ipv4|ipv6) (unicast|labeled-unicast) neighbor <bgppeer> (advertised-routes|received-routes|routes) [json]


```
## net show bridge macs
```


VLAN      Master    Interface    MAC                  TunnelDest  State      Flags    LastSeen
--------  --------  -----------  -----------------  ------------  ---------  -------  ----------
untagged  docker0   docker0      02:42:0d:8c:08:22                permanent           01:40:15

```
```

The following commands contain keyword(s) 'show', 'bridge', 'macs'

    net show bridge macs <ip> [json]
    net show bridge macs <mac> [json]
    net show bridge macs [json]
    net show bridge macs dynamic [json]
    net show bridge macs permanent [json]
    net show bridge macs vlan <number> [json]


```
## net show bgp l2vpn evpn summary
```



```
```

The following commands contain keyword(s) 'show', 'bgp', 'l2vpn', 'evpn', 'summary'

    net show bgp [l2vpn] evpn summary [json]


```
## net show evpn vni
```



```
```

The following commands contain keyword(s) 'show', 'evpn', 'vni'

    net show bgp [l2vpn] evpn route vni <1-16777215>
    net show bgp [l2vpn] evpn route vni <1-16777215> mac <mac>
    net show bgp [l2vpn] evpn route vni <1-16777215> mac <mac> ip <ip>
    net show bgp [l2vpn] evpn route vni <1-16777215> multicast <ipv4>
    net show bgp [l2vpn] evpn route vni <1-16777215> type (macip|multicast)
    net show bgp [l2vpn] evpn route vni <1-16777215> vtep <ipv4>
    net show bgp [l2vpn] evpn route vni all
    net show bgp [l2vpn] evpn route vni all vtep <ipv4>
    net show bgp [l2vpn] evpn vni [<1-16777215>]
    net show evpn arp-cache vni <1-16777215> [json]
    net show evpn arp-cache vni <1-16777215> ip <ip> [json]
    net show evpn arp-cache vni <1-16777215> vtep <ipv4> [json]
    net show evpn arp-cache vni all [json]
    net show evpn mac vni <1-16777215> [json]
    net show evpn mac vni <1-16777215> mac <mac>
    net show evpn mac vni <1-16777215> vtep <ipv4> [json]
    net show evpn mac vni all [json]
    net show evpn mac vni all vtep <ipv4> [json]
    net show evpn next-hops vni [<1-16777215>] [json]
    net show evpn next-hops vni [<1-16777215>] ip <ip> [json]
    net show evpn next-hops vni all [json]
    net show evpn rmac vni [<1-16777215>] [json]
    net show evpn rmac vni [<1-16777215>] mac <mac> [json]
    net show evpn rmac vni all [json]
    net show evpn vni [<1-16777215>] [json]


```
## net show evpn vni 10100
```



```
```

ERROR: There are no commands with keyword(s) 'show', 'evpn', 'vni', '10100'

```
## net show evpn mac vni 10100
```



```
```

ERROR: There are no commands with keyword(s) 'show', 'evpn', 'mac', 'vni', '10100'

```
## net show evpn mac vni 10100 mac 00:02:00:00:00:02
```



```
```

ERROR: There are no commands with keyword(s) 'show', 'evpn', 'mac', 'vni', '10100', 'mac', '00:02:00:00:00:02'

```
## net show evpn mac vni 10100 vtep 10.0.0.3
```



```
```

ERROR: There are no commands with keyword(s) 'show', 'evpn', 'mac', 'vni', '10100', 'vtep', '10.0.0.3'

```
## net show evpn arp-cache vni 10100
```



```
```

ERROR: There are no commands with keyword(s) 'show', 'evpn', 'arp-cache', 'vni', '10100'

```
## net show evpn rmac vni 104001
```



```
```

ERROR: There are no commands with keyword(s) 'show', 'evpn', 'rmac', 'vni', '104001'

```
## net show evpn rmac vni all
```



```
```

The following commands contain keyword(s) 'show', 'evpn', 'rmac', 'vni', 'all'

    net show evpn rmac vni all [json]


```
## net show evpn next-hops vni 104001 ip 10.0.0.4
```



```
```

ERROR: There are no commands with keyword(s) 'show', 'evpn', 'next-hops', 'vni', '104001', 'ip', '10.0.0.4'

```
## net show route vrf vrf1
```


show ip route vrf vrf1 
=======================
% VRF vrf1 not found


show ipv6 route vrf vrf1 
=========================
% VRF vrf1 not found

```
```

ERROR: There are no commands with keyword(s) 'show', 'route', 'vrf', 'vrf1'

```
## net show bgp l2vpn evpn route
```

No EVPN prefixes exist

```
```

The following commands contain keyword(s) 'show', 'bgp', 'l2vpn', 'evpn', 'route'

    net show bgp [l2vpn] evpn route
    net show bgp [l2vpn] evpn route rd <rd>
    net show bgp [l2vpn] evpn route rd <rd> mac <mac>
    net show bgp [l2vpn] evpn route rd <rd> mac <mac> ip <ip>
    net show bgp [l2vpn] evpn route rd <rd> type (macip|multicast|prefix)
    net show bgp [l2vpn] evpn route type (macip|multicast|prefix)
    net show bgp [l2vpn] evpn route vni <1-16777215>
    net show bgp [l2vpn] evpn route vni <1-16777215> mac <mac>
    net show bgp [l2vpn] evpn route vni <1-16777215> mac <mac> ip <ip>
    net show bgp [l2vpn] evpn route vni <1-16777215> multicast <ipv4>
    net show bgp [l2vpn] evpn route vni <1-16777215> type (macip|multicast)
    net show bgp [l2vpn] evpn route vni <1-16777215> vtep <ipv4>
    net show bgp [l2vpn] evpn route vni all
    net show bgp [l2vpn] evpn route vni all vtep <ipv4>


```
## net show bgp l2vpn evpn route rd 10.0.0.4:3 mac 00:02:00:00:00:10 ip 172.16.130.44
```

% Network not in table

```
```

ERROR: There are no commands with keyword(s) 'show', 'bgp', 'l2vpn', 'evpn', 'route', 'rd', '10.0.0.4:3', 'mac', '00:02:00:00:00:10', 'ip', '172.16.130.44'

```
## net show bgp l2vpn evpn route rd 172.16.100.2:3 type prefix
```



```
```

ERROR: There are no commands with keyword(s) 'show', 'bgp', 'l2vpn', 'evpn', 'route', 'rd', '172.16.100.2:3', 'type', 'prefix'

```
## net show bgp l2vpn evpn route vni 10110
```

VNI not found

```
```

ERROR: There are no commands with keyword(s) 'show', 'bgp', 'l2vpn', 'evpn', 'route', 'vni', '10110'

```
## net show bgp vrf vrf1 ipv4 unicast
```

View/Vrf specified is unknown: vrf1

```
```

ERROR: There are no commands with keyword(s) 'show', 'bgp', 'vrf', 'vrf1', 'ipv4', 'unicast'

```
## net show bgp l2vpn evpn route vni 10109 mac 00:02:22:22:22:02
```

VNI not found

```
```

ERROR: There are no commands with keyword(s) 'show', 'bgp', 'l2vpn', 'evpn', 'route', 'vni', '10109', 'mac', '00:02:22:22:22:02'

```
## net show bgp l2vpn evpn route vni 10101 mac 00:02:00:00:00:01
```

VNI not found

```
```

ERROR: There are no commands with keyword(s) 'show', 'bgp', 'l2vpn', 'evpn', 'route', 'vni', '10101', 'mac', '00:02:00:00:00:01'

```
## debug zebra vxlan
```

nohup: failed to run command ‘debug’: No such file or directory

```
```

nohup: failed to run command ‘debug’: No such file or directory

```
## debug zebra kernel
```

nohup: failed to run command ‘debug’: No such file or directory

```
```

nohup: failed to run command ‘debug’: No such file or directory

```
## debug bgp updates
```

nohup: failed to run command ‘debug’: No such file or directory

```
```

nohup: failed to run command ‘debug’: No such file or directory

```
## debug bgp zebra
```

nohup: failed to run command ‘debug’: No such file or directory

```
```

nohup: failed to run command ‘debug’: No such file or directory

```
