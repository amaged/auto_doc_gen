<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CITC Demo Documentation Example: ECMP</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CITC Demo Documentation Example
   </div>
   <div id="projectbrief">Network Documentation for Prospects</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md__e_c_m_p.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">ECMP </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>sudo cl-ecmpcalc</h2>
<p class="">### You know that already </p><div class="fragment"><div class="line">ecmpcalc: asicTool not available, unable to query hardware</div></div><!-- fragment --> <div class="fragment"><div class="line">usage: cl-ecmpcalc [-h] [-v] [-p PROTOCOL] [-s SRC] [--sport SPORT] [-d DST]</div><div class="line">                   [--dport DPORT] [--vid VID] [-i IN_INTERFACE]</div><div class="line">                   [--sportid SPORTID] [--smodid SMODID] [-o OUT_INTERFACE]</div><div class="line">                   [--dportid DPORTID] [--dmodid DMODID] [--hardware]</div><div class="line">                   [--nohardware] [-hs HASHSEED]</div><div class="line">                   [-hf HASHFIELDS [HASHFIELDS ...]]</div><div class="line">                   [--hashfunction {crc16-ccitt,crc16-bisync}] [-e EGRESS]</div><div class="line">                   [-c MCOUNT]</div><div class="line"></div><div class="line">Determine the ECMP egress interface for a frame</div><div class="line"></div><div class="line">optional arguments:</div><div class="line">  -h, --help            show this help message and exit</div><div class="line">  -v, --verbose         Verbose output</div><div class="line">  -p PROTOCOL, --protocol PROTOCOL</div><div class="line">                        IP protocol (&quot;tcp&quot;, &quot;udp&quot;, or integer)</div><div class="line">  -s SRC, --src SRC     Source IPv4 or IPv6 address</div><div class="line">  --sport SPORT         Source L4 port</div><div class="line">  -d DST, --dst DST     Destination IPv4 or IPv6 address</div><div class="line">  --dport DPORT         Destination L4 port</div><div class="line">  --vid VID             VLAN ID</div><div class="line">  -i IN_INTERFACE, --in-interface IN_INTERFACE</div><div class="line">                        Input interface</div><div class="line">  --sportid SPORTID     Hardware source port ID</div><div class="line">  --smodid SMODID       Hardware source module ID</div><div class="line">  -o OUT_INTERFACE, --out-interface OUT_INTERFACE</div><div class="line">                        Output interface</div><div class="line">  --dportid DPORTID     Hardware destination port ID</div><div class="line">  --dmodid DMODID       Hardware destination module ID</div><div class="line">  --hardware            Force hardware query, ecmpcalc will read the hash</div><div class="line">                        configuration from hardware</div><div class="line">  --nohardware          Force no hardware query</div><div class="line">  -hs HASHSEED, --hashseed HASHSEED</div><div class="line">                        RTAG7 hash seed</div><div class="line">  -hf HASHFIELDS [HASHFIELDS ...], --hashfields HASHFIELDS [HASHFIELDS ...]</div><div class="line">                        list of RTAG7 hash fields, one or more of (srcH, srcL,</div><div class="line">                        dstH, dstL, vid, sport, dport, protocol, sportid,</div><div class="line">                        smodid, dportid, dmodid)</div><div class="line">  --hashfunction {crc16-ccitt,crc16-bisync}</div><div class="line">                        RTAG7 hash function</div><div class="line">  -e EGRESS, --egress EGRESS</div><div class="line">                        multipath egress object as from</div><div class="line">                        &quot;/usr/lib/cumulus/bcmcmd l3 defip show&quot;</div><div class="line">  -c MCOUNT, --mcount MCOUNT</div><div class="line">                        ECMP group member count</div></div><!-- fragment --> <h2>net example link-settings</h2>
<p class="">### </p><div class="fragment"><div class="line">Scenarios</div><div class="line">=========</div><div class="line"></div><div class="line"></div><div class="line">---- Breakout a QSFP into four individual interfaces</div><div class="line"></div><div class="line">switch# net add interface swp2 breakout 4x</div><div class="line">switch# net commit</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">---- Gang 4 SFP interfaces together into a higher speed interface</div><div class="line">     NOTE: the starting interface in the glob must be a multiple of four + 1</div><div class="line"></div><div class="line">switch# net add interface swp5-8 breakout /4</div><div class="line">switch# net commit</div><div class="line"></div><div class="line"></div><div class="line">---- Set the a 10G interface to 1G with auto-negotiation on</div><div class="line"></div><div class="line">switch# net add interface swp3 link speed 10000</div><div class="line">switch# net add interface swp3 link autoneg on</div><div class="line">switch# net commit</div><div class="line"></div><div class="line"></div><div class="line">---- Breakout a 100G interface to 4x25G and set one to 10G</div><div class="line"></div><div class="line">switch# net add interface swp20 breakout 4x</div><div class="line">switch# net add interface swp20s0 link speed 10000</div><div class="line">switch# net commit</div></div><!-- fragment --> <div class="fragment"><div class="line">The following commands contain keyword(s) &#39;link-settings&#39;, &#39;example&#39;</div><div class="line"></div><div class="line">    net example link-settings</div></div><!-- fragment --> <h2>ip route show 10.1.1.0/24</h2>
<p class="">### </p><div class="fragment"></div><!-- fragment --> <div class="fragment"><div class="line">Error: an inet prefix is expected rather than &quot;--help&quot;.</div></div><!-- fragment --> <h2>cat /etc/cumulus/datapath/traffic.conf</h2>
<p class="">### </p><div class="fragment"><div class="line">#</div><div class="line"># /etc/cumulus/datapath/traffic.conf</div><div class="line"># Copyright 2014, 2015, 2016, 2017, Cumulus Networks, Inc.  All rights reserved.</div><div class="line">#</div><div class="line"></div><div class="line"># packet header field used to determine the packet priority level</div><div class="line"># fields include {802.1p, dscp}</div><div class="line">traffic.packet_priority_source_set = [802.1p]</div><div class="line"></div><div class="line"># packet priority source values assigned to each internal cos value</div><div class="line"># internal cos values {cos_0..cos_7}</div><div class="line"># (internal cos 3 has been reserved for CPU-generated traffic)</div><div class="line">#</div><div class="line"># 802.1p values = {0..7}</div><div class="line">traffic.cos_0.priority_source.8021p = [0]</div><div class="line">traffic.cos_1.priority_source.8021p = [1]</div><div class="line">traffic.cos_2.priority_source.8021p = [2]</div><div class="line">traffic.cos_3.priority_source.8021p = []</div><div class="line">traffic.cos_4.priority_source.8021p = [3,4]</div><div class="line">traffic.cos_5.priority_source.8021p = [5]</div><div class="line">traffic.cos_6.priority_source.8021p = [6]</div><div class="line">traffic.cos_7.priority_source.8021p = [7]</div><div class="line"></div><div class="line"># dscp values = {0..63}</div><div class="line">#traffic.cos_0.priority_source.dscp = [0,1,2,3,4,5,6,7]</div><div class="line">#traffic.cos_1.priority_source.dscp = [8,9,10,11,12,13,14,15]</div><div class="line">#traffic.cos_2.priority_source.dscp = [16,17,18,19,20,21,22,23]</div><div class="line">#traffic.cos_3.priority_source.dscp = [24,25,26,27,28,29,30,31]</div><div class="line">#traffic.cos_4.priority_source.dscp = [32,33,34,35,36,37,38,39]</div><div class="line">#traffic.cos_5.priority_source.dscp = [40,41,42,43,44,45,46,47]</div><div class="line">#traffic.cos_6.priority_source.dscp = [48,49,50,51,52,53,54,55]</div><div class="line">#traffic.cos_7.priority_source.dscp = [56,57,58,59,60,61,62,63]</div><div class="line"></div><div class="line"># remark packet priority value</div><div class="line"># fields include {802.1p, dscp}</div><div class="line">traffic.packet_priority_remark_set = []</div><div class="line"></div><div class="line"># packet priority remark values assigned from each internal cos value</div><div class="line"># internal cos values {cos_0..cos_7}</div><div class="line"># (internal cos 3 has been reserved for CPU-generated traffic)</div><div class="line">#</div><div class="line"># 802.1p values = {0..7}</div><div class="line">#traffic.cos_0.priority_remark.8021p = [0]</div><div class="line">#traffic.cos_1.priority_remark.8021p = [1]</div><div class="line">#traffic.cos_2.priority_remark.8021p = [2]</div><div class="line">#traffic.cos_3.priority_remark.8021p = [3]</div><div class="line">#traffic.cos_4.priority_remark.8021p = [4]</div><div class="line">#traffic.cos_5.priority_remark.8021p = [5]</div><div class="line">#traffic.cos_6.priority_remark.8021p = [6]</div><div class="line">#traffic.cos_7.priority_remark.8021p = [7]</div><div class="line"></div><div class="line"># dscp values = {0..63}</div><div class="line">#traffic.cos_0.priority_remark.dscp = [0]</div><div class="line">#traffic.cos_1.priority_remark.dscp = [8]</div><div class="line">#traffic.cos_2.priority_remark.dscp = [16]</div><div class="line">#traffic.cos_3.priority_remark.dscp = [24]</div><div class="line">#traffic.cos_4.priority_remark.dscp = [32]</div><div class="line">#traffic.cos_5.priority_remark.dscp = [40]</div><div class="line">#traffic.cos_6.priority_remark.dscp = [48]</div><div class="line">#traffic.cos_7.priority_remark.dscp = [56]</div><div class="line"></div><div class="line"># source.port_group_list = [source_port_group]</div><div class="line"># source.source_port_group.packet_priority_source_set = [dscp]</div><div class="line"># source.source_port_group.port_set = swp1-swp4,swp6</div><div class="line"># source.source_port_group.cos_0.priority_source.dscp = [0,1,2,3,4,5,6,7]</div><div class="line"># source.source_port_group.cos_1.priority_source.dscp = [8,9,10,11,12,13,14,15]</div><div class="line"># source.source_port_group.cos_2.priority_source.dscp = [16,17,18,19,20,21,22,23]</div><div class="line"># source.source_port_group.cos_3.priority_source.dscp = [24,25,26,27,28,29,30,31]</div><div class="line"># source.source_port_group.cos_4.priority_source.dscp = [32,33,34,35,36,37,38,39]</div><div class="line"># source.source_port_group.cos_5.priority_source.dscp = [40,41,42,43,44,45,46,47]</div><div class="line"># source.source_port_group.cos_6.priority_source.dscp = [48,49,50,51,52,53,54,55]</div><div class="line"># source.source_port_group.cos_7.priority_source.dscp = [56,57,58,59,60,61,62,63]</div><div class="line"></div><div class="line"># remark.port_group_list = [remark_port_group]</div><div class="line"># remark.remark_port_group.packet_priority_remark_set = [dscp]</div><div class="line"># remark.remark_port_group.port_set = swp1-swp4,swp6</div><div class="line"># remark.remark_port_group.cos_0.priority_remark.dscp = [0]</div><div class="line"># remark.remark_port_group.cos_1.priority_remark.dscp = [8]</div><div class="line"># remark.remark_port_group.cos_2.priority_remark.dscp = [16]</div><div class="line"># remark.remark_port_group.cos_3.priority_remark.dscp = [24]</div><div class="line"># remark.remark_port_group.cos_4.priority_remark.dscp = [32]</div><div class="line"># remark.remark_port_group.cos_5.priority_remark.dscp = [40]</div><div class="line"># remark.remark_port_group.cos_6.priority_remark.dscp = [48]</div><div class="line"># remark.remark_port_group.cos_7.priority_remark.dscp = [56]</div><div class="line"></div><div class="line"># priority groups</div><div class="line">traffic.priority_group_list = [control, service, bulk]</div><div class="line"></div><div class="line"># internal cos values assigned to each priority group</div><div class="line"># each cos value should be assigned exactly once</div><div class="line"># internal cos values {0..7}</div><div class="line">priority_group.control.cos_list = [7]</div><div class="line">priority_group.service.cos_list = [2]</div><div class="line">priority_group.bulk.cos_list = [0,1,3,4,5,6]</div><div class="line"></div><div class="line"># to configure priority flow control on a group of ports:</div><div class="line"># -- assign cos value(s) to the cos list</div><div class="line"># -- add or replace a port group names in the port group list</div><div class="line"># -- for each port group in the list</div><div class="line">#    -- populate the port set, e.g.</div><div class="line">#       swp1-swp4,swp8,swp50s0-swp50s3</div><div class="line">#    -- set a PFC buffer size in bytes for each port in the group</div><div class="line">#    -- set the xoff byte limit (buffer limit that triggers PFC frames transmit to start)</div><div class="line">#    -- set the xon byte delta (buffer limit that triggers PFC frames transmit to stop)</div><div class="line">#    -- enable PFC frame transmit and/or PFC frame receive</div><div class="line"></div><div class="line"># priority flow control</div><div class="line"># pfc.port_group_list = [pfc_port_group]</div><div class="line"># pfc.pfc_port_group.cos_list = []</div><div class="line"># pfc.pfc_port_group.port_set = swp1-swp4,swp6</div><div class="line"># pfc.pfc_port_group.port_buffer_bytes = 25000</div><div class="line"># pfc.pfc_port_group.xoff_size = 10000</div><div class="line"># pfc.pfc_port_group.xon_delta = 2000</div><div class="line"># pfc.pfc_port_group.tx_enable = true</div><div class="line"># pfc.pfc_port_group.rx_enable = true</div><div class="line"></div><div class="line"># to configure pause on a group of ports:</div><div class="line"># -- add or replace port group names in the port group list</div><div class="line"># -- for each port group in the list</div><div class="line">#    -- populate the port set, e.g.</div><div class="line">#       swp1-swp4,swp8,swp50s0-swp50s3</div><div class="line">#    -- set a pause buffer size in bytes for each port</div><div class="line">#    -- set the xoff byte limit (buffer limit that triggers pause frames transmit to start)</div><div class="line">#    -- set the xon byte delta (buffer limit that triggers pause frames transmit to stop)</div><div class="line">#    -- enable pause frame transmit and/or pause frame receive</div><div class="line"></div><div class="line"># link pause</div><div class="line"># link_pause.port_group_list = [pause_port_group]</div><div class="line"># link_pause.pause_port_group.port_set = swp1-swp4,swp6</div><div class="line"># link_pause.pause_port_group.port_buffer_bytes = 25000</div><div class="line"># link_pause.pause_port_group.xoff_size = 10000</div><div class="line"># link_pause.pause_port_group.xon_delta = 2000</div><div class="line"># link_pause.pause_port_group.rx_enable = true</div><div class="line"># link_pause.pause_port_group.tx_enable = true</div><div class="line"></div><div class="line"># Explicit Congestion Notification</div><div class="line"># to configure ECN and RED on a group of ports:</div><div class="line"># -- add or replace port group names in the port group list</div><div class="line"># -- assign cos value(s) to the cos list</div><div class="line"># -- for each port group in the list</div><div class="line">#    -- populate the port set, e.g.</div><div class="line">#       swp1-swp4,swp8,swp50s0-swp50s3</div><div class="line"># -- to enable RED requires the latest traffic.conf</div><div class="line"># ecn_red.port_group_list = [ecn_red_port_group]</div><div class="line"># ecn_red.ecn_red_port_group.cos_list = []</div><div class="line"># ecn_red.ecn_red_port_group.port_set = swp1-swp4,swp6</div><div class="line"># ecn_red.ecn_red_port_group.ecn_enable = true</div><div class="line"># ecn_red.ecn_red_port_group.red_enable = false</div><div class="line"># ecn_red.ecn_red_port_group.min_threshold_bytes = 40000</div><div class="line"># ecn_red.ecn_red_port_group.max_threshold_bytes = 200000</div><div class="line"># ecn_red.ecn_red_port_group.probability = 100</div><div class="line"></div><div class="line"># scheduling algorithm: algorithm values = {dwrr}</div><div class="line">scheduling.algorithm = dwrr</div><div class="line"></div><div class="line"># traffic group scheduling weight</div><div class="line"># weight values = {0..127}</div><div class="line"># &#39;0&#39; indicates strict priority</div><div class="line">priority_group.control.weight = 0</div><div class="line">priority_group.service.weight = 32</div><div class="line">priority_group.bulk.weight = 16</div><div class="line"></div><div class="line"># To turn on/off Denial of service (DOS) prevention checks</div><div class="line">dos_enable = false</div><div class="line"></div><div class="line"># Cut-through is disabled by default on all chips with the exception of</div><div class="line"># Spectrum.  On Spectrum cut-through cannot be disabled.</div><div class="line">#cut_through_enable = false</div><div class="line"></div><div class="line"># Enable resilient hashing</div><div class="line">#resilient_hash_enable = FALSE</div><div class="line"></div><div class="line"># Resilient hashing flowset entries per ECMP group</div><div class="line"># Valid values - 64, 128, 256, 512, 1024</div><div class="line">#resilient_hash_entries_ecmp = 128</div><div class="line"></div><div class="line"># Enable symmetric hashing</div><div class="line">#symmetric_hash_enable = TRUE</div><div class="line"></div><div class="line"># Set sflow/sample ingress cpu packet rate and burst in packets/sec</div><div class="line"># Values: {0..16384}</div><div class="line">#sflow.rate = 16384</div><div class="line">#sflow.burst = 16384</div><div class="line"></div><div class="line">#Specify the maximum number of paths per route entry.</div><div class="line">#  Maximum paths supported is 200.</div><div class="line">#  Default value 0 takes the number of physical ports as the max path size.</div><div class="line">#ecmp_max_paths = 0</div><div class="line"></div><div class="line">#Specify the hash seed for Equal cost multipath entries</div><div class="line"># Default value 0</div><div class="line"># Value Rang: {0..4294967295}</div><div class="line">#ecmp_hash_seed = 42</div><div class="line"></div><div class="line"># Specify the forwarding table resource allocation profile, applicable</div><div class="line"># only on platforms that support universal forwarding resources.</div><div class="line">#</div><div class="line"># /usr/cumulus/sbin/cl-resource-query reports the allocated table sizes</div><div class="line"># based on the profile setting.</div><div class="line">#</div><div class="line">#   Values: one of {&#39;default&#39;, &#39;l2-heavy&#39;, &#39;v4-lpm-heavy&#39;, &#39;v6-lpm-heavy&#39;,</div><div class="line">#                   &#39;ipmc-heavy&#39;}</div><div class="line">#   Default value: &#39;default&#39;</div><div class="line">#   Note: some devices may support more modes, please consult user</div><div class="line">#         guide for more details</div><div class="line">#</div><div class="line">#forwarding_table.profile = default</div></div><!-- fragment --> <div class="fragment"><div class="line">Usage: cat [OPTION]... [FILE]...</div><div class="line">Concatenate FILE(s), or standard input, to standard output.</div><div class="line"></div><div class="line">  -A, --show-all           equivalent to -vET</div><div class="line">  -b, --number-nonblank    number nonempty output lines, overrides -n</div><div class="line">  -e                       equivalent to -vE</div><div class="line">  -E, --show-ends          display $ at end of each line</div><div class="line">  -n, --number             number all output lines</div><div class="line">  -s, --squeeze-blank      suppress repeated empty output lines</div><div class="line">  -t                       equivalent to -vT</div><div class="line">  -T, --show-tabs          display TAB characters as ^I</div><div class="line">  -u                       (ignored)</div><div class="line">  -v, --show-nonprinting   use ^ and M- notation, except for LFD and TAB</div><div class="line">      --help     display this help and exit</div><div class="line">      --version  output version information and exit</div><div class="line"></div><div class="line">With no FILE, or when FILE is -, read standard input.</div><div class="line"></div><div class="line">Examples:</div><div class="line">  cat f - g  Output f&#39;s contents, then standard input, then g&#39;s contents.</div><div class="line">  cat        Copy standard input to standard output.</div><div class="line"></div><div class="line">GNU coreutils online help: &lt;http://www.gnu.org/software/coreutils/&gt;</div><div class="line">Full documentation at: &lt;http://www.gnu.org/software/coreutils/cat&gt;</div><div class="line">or available locally via: info &#39;(coreutils) cat invocation&#39;</div><div class="line"></div><div class="line">#</div><div class="line"># /etc/cumulus/datapath/traffic.conf</div><div class="line"># Copyright 2014, 2015, 2016, 2017, Cumulus Networks, Inc.  All rights reserved.</div><div class="line">#</div><div class="line"></div><div class="line"># packet header field used to determine the packet priority level</div><div class="line"># fields include {802.1p, dscp}</div><div class="line">traffic.packet_priority_source_set = [802.1p]</div><div class="line"></div><div class="line"># packet priority source values assigned to each internal cos value</div><div class="line"># internal cos values {cos_0..cos_7}</div><div class="line"># (internal cos 3 has been reserved for CPU-generated traffic)</div><div class="line">#</div><div class="line"># 802.1p values = {0..7}</div><div class="line">traffic.cos_0.priority_source.8021p = [0]</div><div class="line">traffic.cos_1.priority_source.8021p = [1]</div><div class="line">traffic.cos_2.priority_source.8021p = [2]</div><div class="line">traffic.cos_3.priority_source.8021p = []</div><div class="line">traffic.cos_4.priority_source.8021p = [3,4]</div><div class="line">traffic.cos_5.priority_source.8021p = [5]</div><div class="line">traffic.cos_6.priority_source.8021p = [6]</div><div class="line">traffic.cos_7.priority_source.8021p = [7]</div><div class="line"></div><div class="line"># dscp values = {0..63}</div><div class="line">#traffic.cos_0.priority_source.dscp = [0,1,2,3,4,5,6,7]</div><div class="line">#traffic.cos_1.priority_source.dscp = [8,9,10,11,12,13,14,15]</div><div class="line">#traffic.cos_2.priority_source.dscp = [16,17,18,19,20,21,22,23]</div><div class="line">#traffic.cos_3.priority_source.dscp = [24,25,26,27,28,29,30,31]</div><div class="line">#traffic.cos_4.priority_source.dscp = [32,33,34,35,36,37,38,39]</div><div class="line">#traffic.cos_5.priority_source.dscp = [40,41,42,43,44,45,46,47]</div><div class="line">#traffic.cos_6.priority_source.dscp = [48,49,50,51,52,53,54,55]</div><div class="line">#traffic.cos_7.priority_source.dscp = [56,57,58,59,60,61,62,63]</div><div class="line"></div><div class="line"># remark packet priority value</div><div class="line"># fields include {802.1p, dscp}</div><div class="line">traffic.packet_priority_remark_set = []</div><div class="line"></div><div class="line"># packet priority remark values assigned from each internal cos value</div><div class="line"># internal cos values {cos_0..cos_7}</div><div class="line"># (internal cos 3 has been reserved for CPU-generated traffic)</div><div class="line">#</div><div class="line"># 802.1p values = {0..7}</div><div class="line">#traffic.cos_0.priority_remark.8021p = [0]</div><div class="line">#traffic.cos_1.priority_remark.8021p = [1]</div><div class="line">#traffic.cos_2.priority_remark.8021p = [2]</div><div class="line">#traffic.cos_3.priority_remark.8021p = [3]</div><div class="line">#traffic.cos_4.priority_remark.8021p = [4]</div><div class="line">#traffic.cos_5.priority_remark.8021p = [5]</div><div class="line">#traffic.cos_6.priority_remark.8021p = [6]</div><div class="line">#traffic.cos_7.priority_remark.8021p = [7]</div><div class="line"></div><div class="line"># dscp values = {0..63}</div><div class="line">#traffic.cos_0.priority_remark.dscp = [0]</div><div class="line">#traffic.cos_1.priority_remark.dscp = [8]</div><div class="line">#traffic.cos_2.priority_remark.dscp = [16]</div><div class="line">#traffic.cos_3.priority_remark.dscp = [24]</div><div class="line">#traffic.cos_4.priority_remark.dscp = [32]</div><div class="line">#traffic.cos_5.priority_remark.dscp = [40]</div><div class="line">#traffic.cos_6.priority_remark.dscp = [48]</div><div class="line">#traffic.cos_7.priority_remark.dscp = [56]</div><div class="line"></div><div class="line"># source.port_group_list = [source_port_group]</div><div class="line"># source.source_port_group.packet_priority_source_set = [dscp]</div><div class="line"># source.source_port_group.port_set = swp1-swp4,swp6</div><div class="line"># source.source_port_group.cos_0.priority_source.dscp = [0,1,2,3,4,5,6,7]</div><div class="line"># source.source_port_group.cos_1.priority_source.dscp = [8,9,10,11,12,13,14,15]</div><div class="line"># source.source_port_group.cos_2.priority_source.dscp = [16,17,18,19,20,21,22,23]</div><div class="line"># source.source_port_group.cos_3.priority_source.dscp = [24,25,26,27,28,29,30,31]</div><div class="line"># source.source_port_group.cos_4.priority_source.dscp = [32,33,34,35,36,37,38,39]</div><div class="line"># source.source_port_group.cos_5.priority_source.dscp = [40,41,42,43,44,45,46,47]</div><div class="line"># source.source_port_group.cos_6.priority_source.dscp = [48,49,50,51,52,53,54,55]</div><div class="line"># source.source_port_group.cos_7.priority_source.dscp = [56,57,58,59,60,61,62,63]</div><div class="line"></div><div class="line"># remark.port_group_list = [remark_port_group]</div><div class="line"># remark.remark_port_group.packet_priority_remark_set = [dscp]</div><div class="line"># remark.remark_port_group.port_set = swp1-swp4,swp6</div><div class="line"># remark.remark_port_group.cos_0.priority_remark.dscp = [0]</div><div class="line"># remark.remark_port_group.cos_1.priority_remark.dscp = [8]</div><div class="line"># remark.remark_port_group.cos_2.priority_remark.dscp = [16]</div><div class="line"># remark.remark_port_group.cos_3.priority_remark.dscp = [24]</div><div class="line"># remark.remark_port_group.cos_4.priority_remark.dscp = [32]</div><div class="line"># remark.remark_port_group.cos_5.priority_remark.dscp = [40]</div><div class="line"># remark.remark_port_group.cos_6.priority_remark.dscp = [48]</div><div class="line"># remark.remark_port_group.cos_7.priority_remark.dscp = [56]</div><div class="line"></div><div class="line"># priority groups</div><div class="line">traffic.priority_group_list = [control, service, bulk]</div><div class="line"></div><div class="line"># internal cos values assigned to each priority group</div><div class="line"># each cos value should be assigned exactly once</div><div class="line"># internal cos values {0..7}</div><div class="line">priority_group.control.cos_list = [7]</div><div class="line">priority_group.service.cos_list = [2]</div><div class="line">priority_group.bulk.cos_list = [0,1,3,4,5,6]</div><div class="line"></div><div class="line"># to configure priority flow control on a group of ports:</div><div class="line"># -- assign cos value(s) to the cos list</div><div class="line"># -- add or replace a port group names in the port group list</div><div class="line"># -- for each port group in the list</div><div class="line">#    -- populate the port set, e.g.</div><div class="line">#       swp1-swp4,swp8,swp50s0-swp50s3</div><div class="line">#    -- set a PFC buffer size in bytes for each port in the group</div><div class="line">#    -- set the xoff byte limit (buffer limit that triggers PFC frames transmit to start)</div><div class="line">#    -- set the xon byte delta (buffer limit that triggers PFC frames transmit to stop)</div><div class="line">#    -- enable PFC frame transmit and/or PFC frame receive</div><div class="line"></div><div class="line"># priority flow control</div><div class="line"># pfc.port_group_list = [pfc_port_group]</div><div class="line"># pfc.pfc_port_group.cos_list = []</div><div class="line"># pfc.pfc_port_group.port_set = swp1-swp4,swp6</div><div class="line"># pfc.pfc_port_group.port_buffer_bytes = 25000</div><div class="line"># pfc.pfc_port_group.xoff_size = 10000</div><div class="line"># pfc.pfc_port_group.xon_delta = 2000</div><div class="line"># pfc.pfc_port_group.tx_enable = true</div><div class="line"># pfc.pfc_port_group.rx_enable = true</div><div class="line"></div><div class="line"># to configure pause on a group of ports:</div><div class="line"># -- add or replace port group names in the port group list</div><div class="line"># -- for each port group in the list</div><div class="line">#    -- populate the port set, e.g.</div><div class="line">#       swp1-swp4,swp8,swp50s0-swp50s3</div><div class="line">#    -- set a pause buffer size in bytes for each port</div><div class="line">#    -- set the xoff byte limit (buffer limit that triggers pause frames transmit to start)</div><div class="line">#    -- set the xon byte delta (buffer limit that triggers pause frames transmit to stop)</div><div class="line">#    -- enable pause frame transmit and/or pause frame receive</div><div class="line"></div><div class="line"># link pause</div><div class="line"># link_pause.port_group_list = [pause_port_group]</div><div class="line"># link_pause.pause_port_group.port_set = swp1-swp4,swp6</div><div class="line"># link_pause.pause_port_group.port_buffer_bytes = 25000</div><div class="line"># link_pause.pause_port_group.xoff_size = 10000</div><div class="line"># link_pause.pause_port_group.xon_delta = 2000</div><div class="line"># link_pause.pause_port_group.rx_enable = true</div><div class="line"># link_pause.pause_port_group.tx_enable = true</div><div class="line"></div><div class="line"># Explicit Congestion Notification</div><div class="line"># to configure ECN and RED on a group of ports:</div><div class="line"># -- add or replace port group names in the port group list</div><div class="line"># -- assign cos value(s) to the cos list</div><div class="line"># -- for each port group in the list</div><div class="line">#    -- populate the port set, e.g.</div><div class="line">#       swp1-swp4,swp8,swp50s0-swp50s3</div><div class="line"># -- to enable RED requires the latest traffic.conf</div><div class="line"># ecn_red.port_group_list = [ecn_red_port_group]</div><div class="line"># ecn_red.ecn_red_port_group.cos_list = []</div><div class="line"># ecn_red.ecn_red_port_group.port_set = swp1-swp4,swp6</div><div class="line"># ecn_red.ecn_red_port_group.ecn_enable = true</div><div class="line"># ecn_red.ecn_red_port_group.red_enable = false</div><div class="line"># ecn_red.ecn_red_port_group.min_threshold_bytes = 40000</div><div class="line"># ecn_red.ecn_red_port_group.max_threshold_bytes = 200000</div><div class="line"># ecn_red.ecn_red_port_group.probability = 100</div><div class="line"></div><div class="line"># scheduling algorithm: algorithm values = {dwrr}</div><div class="line">scheduling.algorithm = dwrr</div><div class="line"></div><div class="line"># traffic group scheduling weight</div><div class="line"># weight values = {0..127}</div><div class="line"># &#39;0&#39; indicates strict priority</div><div class="line">priority_group.control.weight = 0</div><div class="line">priority_group.service.weight = 32</div><div class="line">priority_group.bulk.weight = 16</div><div class="line"></div><div class="line"># To turn on/off Denial of service (DOS) prevention checks</div><div class="line">dos_enable = false</div><div class="line"></div><div class="line"># Cut-through is disabled by default on all chips with the exception of</div><div class="line"># Spectrum.  On Spectrum cut-through cannot be disabled.</div><div class="line">#cut_through_enable = false</div><div class="line"></div><div class="line"># Enable resilient hashing</div><div class="line">#resilient_hash_enable = FALSE</div><div class="line"></div><div class="line"># Resilient hashing flowset entries per ECMP group</div><div class="line"># Valid values - 64, 128, 256, 512, 1024</div><div class="line">#resilient_hash_entries_ecmp = 128</div><div class="line"></div><div class="line"># Enable symmetric hashing</div><div class="line">#symmetric_hash_enable = TRUE</div><div class="line"></div><div class="line"># Set sflow/sample ingress cpu packet rate and burst in packets/sec</div><div class="line"># Values: {0..16384}</div><div class="line">#sflow.rate = 16384</div><div class="line">#sflow.burst = 16384</div><div class="line"></div><div class="line">#Specify the maximum number of paths per route entry.</div><div class="line">#  Maximum paths supported is 200.</div><div class="line">#  Default value 0 takes the number of physical ports as the max path size.</div><div class="line">#ecmp_max_paths = 0</div><div class="line"></div><div class="line">#Specify the hash seed for Equal cost multipath entries</div><div class="line"># Default value 0</div><div class="line"># Value Rang: {0..4294967295}</div><div class="line">#ecmp_hash_seed = 42</div><div class="line"></div><div class="line"># Specify the forwarding table resource allocation profile, applicable</div><div class="line"># only on platforms that support universal forwarding resources.</div><div class="line">#</div><div class="line"># /usr/cumulus/sbin/cl-resource-query reports the allocated table sizes</div><div class="line"># based on the profile setting.</div><div class="line">#</div><div class="line">#   Values: one of {&#39;default&#39;, &#39;l2-heavy&#39;, &#39;v4-lpm-heavy&#39;, &#39;v6-lpm-heavy&#39;,</div><div class="line">#                   &#39;ipmc-heavy&#39;}</div><div class="line">#   Default value: &#39;default&#39;</div><div class="line">#   Note: some devices may support more modes, please consult user</div><div class="line">#         guide for more details</div><div class="line">#</div><div class="line">#forwarding_table.profile = default</div></div><!-- fragment --> </div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.15 </li>
  </ul>
</div>
</body>
</html>
